{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_field %}


{% block content %}
    <h1>{% block title %} Create a New Item {% endblock %}</h1>

    <form method="post" class="form-group">
        {{ form.hidden_tag() }}

        Title:
        <select id="title-select" onchange="displayNewTitle()" class="form-control">
            {% for title in lists %}
                <option>{{ title['title'] }}</option>
            {% endfor %}
        </select>

        {{ render_field(form.content) }}

        <span id="new-title">
            {{ render_field(form.new_list_title) }}
        </span>

        {{ render_field(form.submit) }}

    </form>



{% endblock %}

{% block scripts %}
    <!-- Optional JavaScript -->
    <script>
    function displayNewTitle()
    {
        let selector =document.getElementById("title-select").selectedIndex;
        let newTitle = document.getElementById("new-title")

        if (selector == 0)
        {
            newTitle.style.display = 'inline';

        }else{
            newTitle.style.display = 'none';
        }
    }
    </script>
{% endblock %}

